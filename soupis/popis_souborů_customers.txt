# ğŸ‘¥ MODUL ZÃKAZNÃCI - KOMPLETNÃ STRUKTURA A POPIS

## PÅ˜EHLED MODULU
Modul zÃ¡kaznÃ­kÅ¯ je zÃ¡kladnÃ­ pilÃ­Å™ celÃ©ho systÃ©mu Motoservis DMS. Spravuje kompletnÃ­ databÃ¡zi zÃ¡kaznÃ­kÅ¯, jejich kontaktnÃ­ Ãºdaje, fakturaÄnÃ­ informace, historii zakÃ¡zek a propojenÃ­ s vozidly.

---

## ğŸ“ STRUKTURA SOUBORÅ®

```
modules/customers/
â”œâ”€â”€ __init__.py                    # Inicializace modulu
â”œâ”€â”€ module_customers.py            # â­ HlavnÃ­ seznam zÃ¡kaznÃ­kÅ¯
â”œâ”€â”€ customer_form.py               # FormulÃ¡Å™ pro vytvoÅ™enÃ­/editaci
â”œâ”€â”€ customer_detail.py             # Detail zÃ¡kaznÃ­ka (profesionÃ¡lnÃ­)
â”œâ”€â”€ customer_vehicles.py           # Vozidla zÃ¡kaznÃ­ka
â”œâ”€â”€ customer_orders.py             # Historie zakÃ¡zek zÃ¡kaznÃ­ka
â”œâ”€â”€ customer_financial.py          # FinanÄnÃ­ pÅ™ehled zÃ¡kaznÃ­ka
â”œâ”€â”€ customer_communication.py      # Historie komunikace (emaily, SMS)
â”œâ”€â”€ customer_documents.py          # Dokumenty zÃ¡kaznÃ­ka (smlouvy, plnÃ© moci)
â”œâ”€â”€ customer_export.py             # Export dat zÃ¡kaznÃ­kÅ¯
â”œâ”€â”€ customer_import.py             # Import zÃ¡kaznÃ­kÅ¯ (CSV, Excel)
â”œâ”€â”€ customer_analytics.py          # Statistiky a analÃ½zy
â”œâ”€â”€ customer_groups.py             # SprÃ¡va zÃ¡kaznickÃ½ch skupin
â””â”€â”€ customer_widgets.py            # Dialogy a komponenty
```

---

### **1. `__init__.py`** ğŸ“¦

**ÃšÄel:** InicializaÄnÃ­ soubor modulu

**Obsahuje:**
```python
"""
Modul ZÃ¡kaznÃ­ci - SprÃ¡va zÃ¡kaznÃ­kÅ¯
"""
from .modulescustomers import CustomersModule
from .customer_form import CustomerFormDialog
from .customer_detail import CustomerDetailWindow

__all__ = ['CustomersModule', 'CustomerFormDialog', 'CustomerDetailWindow']
```

---

### **2. `modules_ustomers.py`** â­ HLAVNÃ SOUBOR

**ÃšÄel:** HlavnÃ­ vstupnÃ­ bod modulu - seznam vÅ¡ech zÃ¡kaznÃ­kÅ¯

**Obsahuje:**

**HlaviÄka:**
- Titulek "ğŸ‘¥ ZÃ¡kaznÃ­ci"
- TlaÄÃ­tko "+ NovÃ½ zÃ¡kaznÃ­k" (zelenÃ©)
- TlaÄÃ­tko "ğŸ“¥ Import" (modrÃ©)
- TlaÄÃ­tko "ğŸ“¤ Export" (sekundÃ¡rnÃ­)
- TlaÄÃ­tko "ğŸ“§ HromadnÃ½ email" (volitelnÃ©)

**Statistiky - rychlÃ½ pÅ™ehled:**
- Celkem zÃ¡kaznÃ­kÅ¯
- FiremnÃ­ch zÃ¡kaznÃ­kÅ¯
- SoukromÃ½ch osob
- AktivnÃ­ch (min. 1 zakÃ¡zka za rok)
- VIP zÃ¡kaznÃ­kÅ¯
- DluÅ¾nÃ­kÅ¯ (neuhrazenÃ© faktury)

**Filtry:**
- ğŸ” VyhledÃ¡vÃ¡nÃ­ (jmÃ©no, pÅ™Ã­jmenÃ­, telefon, email, IÄŒO, firma)
- Filtr typu (VÅ¡e, SoukromÃ¡ osoba, Firma)
- Filtr skupiny (VÅ¡e, StandardnÃ­, VIP, FiremnÃ­, PojiÅ¡Å¥ovna)
- Filtr aktivity (VÅ¡e, AktivnÃ­, NeaktivnÃ­)
- Filtr pohledÃ¡vek (VÅ¡e, Bez dluhÅ¯, S pohledÃ¡vkami)
- TlaÄÃ­tko ğŸ”„ Reset filtrÅ¯

**Tabulka zÃ¡kaznÃ­kÅ¯:**
- JmÃ©no a pÅ™Ã­jmenÃ­ / NÃ¡zev firmy
- Telefon (hlavnÃ­)
- Email
- MÄ›sto
- Skupina (badge s barvou)
- PoÄet vozidel
- PoÄet zakÃ¡zek
- CelkovÃ¡ Ãºtrata
- PoslednÃ­ zakÃ¡zka (datum)
- PoznÃ¡mka (zkrÃ¡cenÃ¡)
- ID (skrytÃ½ sloupec)

**Funkce:**
- Dvojklik otevÅ™e detail zÃ¡kaznÃ­ka
- PravÃ© tlaÄÃ­tko - kontextovÃ© menu:
  - ğŸ“– OtevÅ™Ã­t detail
  - âœï¸ Upravit zÃ¡kaznÃ­ka
  - ğŸ“‹ KopÃ­rovat telefon
  - ğŸ“‹ KopÃ­rovat email
  - ğŸï¸ Zobrazit vozidla
  - ğŸ“‹ Zobrazit zakÃ¡zky
  - ğŸ“§ Odeslat email
  - ğŸ“± Odeslat SMS
  - ğŸ’° FinanÄnÃ­ pÅ™ehled
  - ğŸ—‘ï¸ Smazat zÃ¡kaznÃ­ka
- SignÃ¡l `customer_selected` pro komunikaci
- HromadnÃ½ export vybranÃ½ch zÃ¡kaznÃ­kÅ¯
- BarevnÃ© oznaÄenÃ­ podle skupiny

**Styly:**
- AlternujÃ­cÃ­ barvy Å™Ã¡dkÅ¯
- BarevnÃ© badge pro skupiny:
  - ğŸŸ¢ ZelenÃ¡: VIP
  - ğŸ”µ ModrÃ¡: FiremnÃ­
  - ğŸŸ¡ Å½lutÃ¡: PojiÅ¡Å¥ovna
  - âšª Å edÃ¡: StandardnÃ­
- ÄŒervenÃ© pozadÃ­ pro dluÅ¾nÃ­ky
- TuÄnÃ© pÃ­smo pro dÅ¯leÅ¾itÃ© Ãºdaje

---

### **3. `customer_form.py`** ğŸ“

**ÃšÄel:** Dialog pro vytvoÅ™enÃ­/editaci zÃ¡kaznÃ­ka

**Obsahuje:**

**ZÃ¡loÅ¾ka: ZÃ¡kladnÃ­ Ãºdaje**

*Sekce: Typ zÃ¡kaznÃ­ka*
- RadioButton: SoukromÃ¡ osoba / Firma
- DynamickÃ© zobrazenÃ­ polÃ­ podle typu

*Sekce: OsobnÃ­ Ãºdaje (soukromÃ¡ osoba)*
- OslovenÃ­ (ComboBox: Pan, PanÃ­, SleÄna)
- JmÃ©no *
- PÅ™Ã­jmenÃ­ *
- Datum narozenÃ­
- RodnÃ© ÄÃ­slo (volitelnÄ›, chrÃ¡nÄ›nÃ½ Ãºdaj)

*Sekce: FiremnÃ­ Ãºdaje (firma)*
- NÃ¡zev firmy *
- IÄŒO * (validace, automatickÃ© doplnÄ›nÃ­ z ARES)
- DIÄŒ (validace formÃ¡tu)
- KontaktnÃ­ osoba
- Pozice kontaktnÃ­ osoby

**ZÃ¡loÅ¾ka: KontaktnÃ­ Ãºdaje**
- Telefon * (hlavnÃ­, validace formÃ¡tu)
- Telefon 2 (zÃ¡loÅ¾nÃ­)
- Email * (validace formÃ¡tu)
- Email 2 (zÃ¡loÅ¾nÃ­)
- Web (URL)

**ZÃ¡loÅ¾ka: Adresa**

*Sekce: HlavnÃ­ adresa*
- Ulice a ÄÃ­slo popisnÃ© *
- MÄ›sto *
- PSÄŒ * (validace formÃ¡tu)
- Kraj
- ZemÄ› (ComboBox, vÃ½chozÃ­: ÄŒeskÃ¡ republika)

*Sekce: FakturaÄnÃ­ adresa*
- Checkbox "StejnÃ¡ jako hlavnÃ­ adresa"
- Pokud jinÃ¡:
  - Ulice a ÄÃ­slo
  - MÄ›sto
  - PSÄŒ
  - ZemÄ›

**ZÃ¡loÅ¾ka: FakturaÄnÃ­ Ãºdaje**
- IÄŒO (automaticky z firemnÃ­ch ÃºdajÅ¯)
- DIÄŒ
- ÄŒÃ­slo ÃºÄtu (IBAN validace)
- Banka
- Splatnost faktur (dny, vÃ½chozÃ­ z nastavenÃ­)
- PlatebnÃ­ metoda (ComboBox: PÅ™evod, Hotovost, Karta)
- Kredit limit (KÄ)

**ZÃ¡loÅ¾ka: ZÃ¡kaznickÃ¡ skupina**
- Skupina * (ComboBox: StandardnÃ­, VIP, FiremnÃ­, PojiÅ¡Å¥ovna)
- Sleva na prÃ¡ci (%)
- Sleva na materiÃ¡l (%)
- Priorita (1-5)
- VIP zÃ¡kaznÃ­k (checkbox)

**ZÃ¡loÅ¾ka: PoznÃ¡mky a preference**
- PoznÃ¡mky k zÃ¡kaznÃ­kovi (TextEdit)
- SpeciÃ¡lnÃ­ poÅ¾adavky
- PreferovanÃ½ zpÅ¯sob komunikace (Email, Telefon, SMS)
- Souhlas s marketingem (checkbox)
- GDPR souhlas (checkbox, povinnÃ½)

**TlaÄÃ­tka:**
- ZruÅ¡it
- UloÅ¾it
- UloÅ¾it a otevÅ™Ã­t detail

**Validace:**
- JmÃ©no/PÅ™Ã­jmenÃ­ nebo NÃ¡zev firmy povinnÃ½
- Email validnÃ­ formÃ¡t
- Telefon validnÃ­ formÃ¡t
- IÄŒO 8 ÄÃ­slic
- DIÄŒ formÃ¡t CZxxxxxxxx
- PSÄŒ 5 ÄÃ­slic

**SpeciÃ¡lnÃ­ funkce:**
- `load_from_ares()` - automatickÃ© naÄtenÃ­ ÃºdajÅ¯ firmy z ARES podle IÄŒO
- `validate_ico()` - validace IÄŒO
- `validate_dic()` - validace DIÄŒ
- `format_phone()` - formÃ¡tovÃ¡nÃ­ telefonu

---

### **4. `customer_detail.py`** ğŸ“– PROFESIONÃLNÃ VERZE

**ÃšÄel:** DetailnÃ­ okno zÃ¡kaznÃ­ka s kompletnÃ­mi informacemi

**Obsahuje:**

**HornÃ­ liÅ¡ta (action bar):**
- JmÃ©no zÃ¡kaznÃ­ka (velkÃ©, tuÄnÃ©)
- Badge skupiny (barevnÃ½)
- Badge VIP (pokud je)
- TlaÄÃ­tko "âœï¸ Upravit"
- TlaÄÃ­tko "+ NovÃ¡ zakÃ¡zka"
- TlaÄÃ­tko "ğŸ“§ Odeslat email"
- TlaÄÃ­tko "ğŸ–¨ï¸ Tisk karty"
- TlaÄÃ­tko "ğŸ—‘ï¸ Smazat"

**LevÃ½ panel - zÃ¡loÅ¾ky:**

**ğŸ‘¤ ZÃ¡loÅ¾ka: ZÃ¡kladnÃ­ informace**

*Sekce: OsobnÃ­/FiremnÃ­ Ãºdaje*
- JmÃ©no a pÅ™Ã­jmenÃ­ / NÃ¡zev firmy
- IÄŒO, DIÄŒ (pro firmy)
- KontaktnÃ­ osoba (pro firmy)
- Datum narozenÃ­ / RodnÃ© ÄÃ­slo (pro osoby)
- ZÃ¡kaznickÃ¡ skupina (badge)

*Sekce: KontaktnÃ­ Ãºdaje*
- Telefon (klikacÃ­ - volÃ¡nÃ­)
- Telefon 2
- Email (klikacÃ­ - odeslat)
- Email 2
- Web (klikacÃ­ - otevÅ™Ã­t)

*Sekce: Adresa*
- HlavnÃ­ adresa (formÃ¡tovanÃ¡)
- FakturaÄnÃ­ adresa (pokud jinÃ¡)
- Odkaz na Google Maps

*Sekce: FakturaÄnÃ­ Ãºdaje*
- ÄŒÃ­slo ÃºÄtu
- Banka
- Splatnost faktur
- PlatebnÃ­ metoda
- Kredit limit

**ğŸï¸ ZÃ¡loÅ¾ka: Vozidla**
- Widget `CustomerVehiclesWidget`
- Seznam vÅ¡ech vozidel zÃ¡kaznÃ­ka
- Tabulka:
  - SPZ
  - ZnaÄka + Model
  - Rok
  - STK platnÃ¡ do (barevnÃ©)
  - PoÄet zakÃ¡zek
  - PoslednÃ­ servis
- TlaÄÃ­tko "+ PÅ™idat vozidlo"
- Proklik na detail vozidla

**ğŸ“‹ ZÃ¡loÅ¾ka: ZakÃ¡zky**
- Widget `CustomerOrdersWidget`
- Historie vÅ¡ech zakÃ¡zek
- Tabulka:
  - ÄŒÃ­slo zakÃ¡zky
  - Datum
  - Typ
  - Vozidlo
  - Stav
  - Cena
- Filtry: obdobÃ­, stav, vozidlo
- Proklik na detail zakÃ¡zky
- TlaÄÃ­tko "+ NovÃ¡ zakÃ¡zka"

**ğŸ’° ZÃ¡loÅ¾ka: Finance**
- Widget `CustomerFinancialWidget`
- PÅ™ehled financÃ­:
  - CelkovÃ¡ Ãºtrata
  - PrÅ¯mÄ›rnÃ¡ Ãºtrata/rok
  - PoÄet faktur
  - NeuhrazenÃ© faktury (ÄervenÄ›)
  - Kredit limit / vyuÅ¾itÃ­
- Graf Ãºtrat v Äase
- Seznam faktur
- TlaÄÃ­tko "ğŸ“§ Odeslat upomÃ­nku"

**ğŸ“§ ZÃ¡loÅ¾ka: Komunikace**
- Widget `CustomerCommunicationWidget`
- Historie komunikace:
  - OdeslanÃ© emaily
  - OdeslanÃ© SMS
  - TelefonnÃ­ hovory (poznÃ¡mky)
  - OsobnÃ­ schÅ¯zky
- TlaÄÃ­tko "ğŸ“§ NovÃ½ email"
- TlaÄÃ­tko "ğŸ“± NovÃ¡ SMS"
- TlaÄÃ­tko "ğŸ“ PoznÃ¡mka k hovoru"

**ğŸ“ ZÃ¡loÅ¾ka: Dokumenty**
- Widget `CustomerDocumentsWidget`
- Seznam dokumentÅ¯:
  - ğŸ“„ Smlouvy
  - ğŸ“‹ PlnÃ© moci
  - ğŸ§¾ Faktury (kopie)
  - ğŸ“ OstatnÃ­
- Upload dokumentÅ¯
- NÃ¡hled/staÅ¾enÃ­

**ğŸ“ ZÃ¡loÅ¾ka: PoznÃ¡mky**
- PoznÃ¡mky k zÃ¡kaznÃ­kovi (editovatelnÃ©)
- SpeciÃ¡lnÃ­ poÅ¾adavky
- Historie poznÃ¡mek (kdo, kdy)

**PravÃ½ panel - rychlÃ© akce:**

*Sekce: Statistiky*
- PoÄet vozidel
- Celkem zakÃ¡zek
- CelkovÃ¡ Ãºtrata
- PrÅ¯mÄ›rnÃ¡ zakÃ¡zka
- PoslednÃ­ kontakt
- ZÃ¡kaznÃ­kem od (datum)

*Sekce: UpozornÄ›nÃ­*
- âš ï¸ NeuhrazenÃ© faktury
- âš ï¸ BlÃ­Å¾Ã­cÃ­ se STK vozidel
- â„¹ï¸ Dlouho nekontaktovÃ¡n
- â„¹ï¸ Narozeniny (pokud vyplnÄ›no)

*Sekce: RychlÃ© akce*
- ğŸ“§ Odeslat email
- ğŸ“± Zavolat
- ğŸ“‹ NovÃ¡ zakÃ¡zka
- ğŸï¸ PÅ™idat vozidlo

---

### **5. `customer_vehicles.py`** ğŸï¸

**ÃšÄel:** PÅ™ehled vozidel zÃ¡kaznÃ­ka

**Obsahuje:**

**TÅ™Ã­da `CustomerVehiclesWidget`:**

**HlaviÄka:**
- Titulek "ğŸï¸ Vozidla zÃ¡kaznÃ­ka"
- TlaÄÃ­tko "+ PÅ™idat vozidlo"
- TlaÄÃ­tko "ğŸ”„ Obnovit"

**Tabulka vozidel:**
- SPZ (odkaz na detail)
- ZnaÄka
- Model
- Rok vÃ½roby
- Barva
- STK platnÃ¡ do (barevnÃ© pozadÃ­)
- PoÄet zakÃ¡zek
- PoslednÃ­ servis
- CelkovÃ¡ Ãºtrata
- Akce (detail, upravit, smazat)

**Funkce:**
- `load_vehicles()` - naÄtenÃ­ vozidel
- `add_vehicle()` - pÅ™idÃ¡nÃ­ novÃ©ho vozidla
- `open_vehicle_detail()` - otevÅ™enÃ­ detailu
- `create_order_for_vehicle()` - novÃ¡ zakÃ¡zka pro vozidlo

**Statistiky:**
- Celkem vozidel
- AktivnÃ­ch (servis v poslednÃ­m roce)
- PlatnÃ¡ STK
- NeplatnÃ¡ STK

---

### **6. `customer_orders.py`** ğŸ“‹

**ÃšÄel:** Historie zakÃ¡zek zÃ¡kaznÃ­ka

**Obsahuje:**

**TÅ™Ã­da `CustomerOrdersWidget`:**

**HlaviÄka:**
- Titulek "ğŸ“‹ Historie zakÃ¡zek"
- Filtr obdobÃ­ (VÅ¡e, Tento rok, PoslednÃ­ 2 roky)
- Filtr stavu (VÅ¡e, AktivnÃ­, DokonÄenÃ©, Archiv)
- Filtr vozidla (VÅ¡e, konkrÃ©tnÃ­ vozidlo)
- TlaÄÃ­tko "+ NovÃ¡ zakÃ¡zka"
- TlaÄÃ­tko "ğŸ“¤ Export"

**Tabulka zakÃ¡zek:**
- ÄŒÃ­slo zakÃ¡zky (odkaz)
- Datum vytvoÅ™enÃ­
- Typ zakÃ¡zky
- Vozidlo (SPZ)
- Stav (barevnÃ½ badge)
- PoloÅ¾ky (poÄet)
- Cena bez DPH
- Cena s DPH
- PoznÃ¡mka

**Souhrn:**
- Celkem zakÃ¡zek
- CelkovÃ¡ Ãºtrata
- PrÅ¯mÄ›rnÃ¡ cena zakÃ¡zky
- NejÄastÄ›jÅ¡Ã­ typ opravy

**Funkce:**
- `load_orders()` - naÄtenÃ­ zakÃ¡zek
- `filter_orders()` - filtrovÃ¡nÃ­
- `open_order_detail()` - otevÅ™enÃ­ detailu
- `export_history()` - export do PDF/Excel
- `create_new_order()` - novÃ¡ zakÃ¡zka

---

### **7. `customer_financial.py`** ğŸ’°

**ÃšÄel:** FinanÄnÃ­ pÅ™ehled zÃ¡kaznÃ­ka

**Obsahuje:**

**TÅ™Ã­da `CustomerFinancialWidget`:**

**PÅ™ehledovÃ© boxy:**
- ğŸ’° CelkovÃ¡ Ãºtrata (lifetime)
- ğŸ“… Ãštrata tento rok
- ğŸ“Š PrÅ¯mÄ›rnÃ¡ Ãºtrata/rok
- ğŸ§¾ PoÄet faktur
- âŒ NeuhrazenÃ© faktury (ÄÃ¡stka)
- âš ï¸ Po splatnosti (ÄÃ¡stka)

**Graf Ãºtrat:**
- SloupcovÃ½ graf Ãºtrat v Äase (mÄ›sÃ­ce/roky)
- Trend linie
- SrovnÃ¡nÃ­ s prÅ¯mÄ›rem

**Tabulka faktur:**
- ÄŒÃ­slo faktury
- Datum vystavenÃ­
- Datum splatnosti
- ÄŒÃ¡stka
- Stav (Zaplaceno/Nezaplaceno/Po splatnosti)
- ZbÃ½vÃ¡ uhradit
- Akce (nÃ¡hled, zaplatit, upomÃ­nka)

**Kredit limit:**
- NastavenÃ½ limit
- AktuÃ¡lnÃ­ vyuÅ¾itÃ­ (progress bar)
- DostupnÃ½ kredit

**Funkce:**
- `load_financial_data()` - naÄtenÃ­ dat
- `calculate_statistics()` - vÃ½poÄet statistik
- `mark_as_paid()` - oznaÄenÃ­ jako zaplaceno
- `send_reminder()` - odeslÃ¡nÃ­ upomÃ­nky
- `export_statement()` - export vÃ½pisu

**UpomÃ­nky:**
- 1. upomÃ­nka (po X dnech)
- 2. upomÃ­nka (po Y dnech)
- 3. upomÃ­nka - pÅ™edÃ¡nÃ­ prÃ¡vnÃ­kovi

---

### **8. `customer_communication.py`** ğŸ“§

**ÃšÄel:** Historie komunikace se zÃ¡kaznÃ­kem

**Obsahuje:**

**TÅ™Ã­da `CustomerCommunicationWidget`:**

**HlaviÄka:**
- Titulek "ğŸ“§ Historie komunikace"
- Filtr typu (VÅ¡e, Email, SMS, Telefon, OsobnÄ›)
- Filtr obdobÃ­
- TlaÄÃ­tko "ğŸ“§ NovÃ½ email"
- TlaÄÃ­tko "ğŸ“± NovÃ¡ SMS"
- TlaÄÃ­tko "ğŸ“ PoznÃ¡mka"

**Timeline komunikace:**
- ChronologickÃ½ seznam komunikace
- Ikona typu (ğŸ“§, ğŸ“±, ğŸ“, ğŸ‘¤)
- Datum a Äas
- PÅ™edmÄ›t/obsah (zkrÃ¡cenÄ›)
- OdesÃ­latel/pÅ™Ã­jemce
- Stav (odeslÃ¡no, doruÄeno, pÅ™eÄteno)

**DetailnÃ­ pohled:**
- KliknutÃ­m zobrazÃ­ celÃ½ obsah
- PÅ™Ã­lohy (pokud jsou)
- OdpovÄ›Ä (pokud existuje)

**Å ablony:**
- PÅ™ipomÃ­nka STK
- PotvrzenÃ­ zakÃ¡zky
- Faktura
- NabÃ­dka servisu
- VlastnÃ­ Å¡ablony

**Funkce:**
- `load_communication()` - naÄtenÃ­ historie
- `send_email()` - odeslÃ¡nÃ­ emailu
- `send_sms()` - odeslÃ¡nÃ­ SMS
- `add_note()` - pÅ™idÃ¡nÃ­ poznÃ¡mky
- `use_template()` - pouÅ¾itÃ­ Å¡ablony

**Integrace:**
- SMTP pro emaily
- SMS brÃ¡na (volitelnÄ›)
- Log vÅ¡ech komunikacÃ­

---

### **9. `customer_documents.py`** ğŸ“

**ÃšÄel:** SprÃ¡va dokumentÅ¯ zÃ¡kaznÃ­ka

**Obsahuje:**

**TÅ™Ã­da `CustomerDocumentsWidget`:**

**Kategorie dokumentÅ¯:**
- ğŸ“„ RÃ¡mcovÃ© smlouvy
- ğŸ“‹ ServisnÃ­ smlouvy
- ğŸ“ PlnÃ© moci
- ğŸ§¾ Faktury (archiv)
- ğŸ“Š CenovÃ© nabÃ­dky
- ğŸ“œ GDPR souhlasy
- ğŸ“ OstatnÃ­ dokumenty

**Tabulka dokumentÅ¯:**
- Typ dokumentu
- NÃ¡zev souboru
- Datum nahrÃ¡nÃ­
- Platnost do (pokud relevantnÃ­)
- Velikost
- Akce (nÃ¡hled, staÅ¾enÃ­, smazÃ¡nÃ­)

**Funkce:**
- `upload_document()` - nahrÃ¡nÃ­ dokumentu
- `preview_document()` - nÃ¡hled
- `download_document()` - staÅ¾enÃ­
- `delete_document()` - smazÃ¡nÃ­
- `generate_contract()` - generovÃ¡nÃ­ smlouvy ze Å¡ablony

**PodporovanÃ© formÃ¡ty:**
- PDF
- Word (DOC, DOCX)
- Excel (XLS, XLSX)
- ObrÃ¡zky (JPG, PNG)

**Å ablony smluv:**
- ServisnÃ­ smlouva
- RÃ¡mcovÃ¡ smlouva
- PlnÃ¡ moc
- GDPR souhlas

---

### **10. `customer_export.py`** ğŸ“¤

**ÃšÄel:** Export dat zÃ¡kaznÃ­kÅ¯

**Obsahuje:**

**TÅ™Ã­da `CustomerExporter`:**

**Typy exportÅ¯:**
- ğŸ“„ Karta zÃ¡kaznÃ­ka (PDF)
- ğŸ“‹ Seznam zÃ¡kaznÃ­kÅ¯ (Excel)
- ğŸ’° FinanÄnÃ­ vÃ½pis (PDF)
- ğŸ“Š Statistiky zÃ¡kaznÃ­kÅ¯ (Excel)
- ğŸ“ KompletnÃ­ export (ZIP)

**`export_customer_card()`:**
- ProfesionÃ¡lnÃ­ PDF karta
- ZÃ¡kladnÃ­ Ãºdaje
- KontaktnÃ­ informace
- Seznam vozidel
- FinanÄnÃ­ souhrn
- QR kÃ³d s kontaktem

**`export_customer_list()`:**
- Excel s vÃ­ce listy:
  - Seznam zÃ¡kaznÃ­kÅ¯
  - KontaktnÃ­ Ãºdaje
  - FinanÄnÃ­ pÅ™ehled
  - Vozidla

**`export_financial_statement()`:**
- PDF vÃ½pis
- Seznam faktur
- UhrazenÃ©/neuhrazenÃ©
- CelkovÃ½ pÅ™ehled

**`export_for_marketing()`:**
- Excel pro marketing
- Emaily pro hromadnÃ© rozesÃ­lÃ¡nÃ­
- Segmentace podle skupin
- GDPR compliance (pouze se souhlasem)

---

### **11. `customer_import.py`** ğŸ“¥

**ÃšÄel:** Import zÃ¡kaznÃ­kÅ¯ z externÃ­ch zdrojÅ¯

**Obsahuje:**

**TÅ™Ã­da `CustomerImporter`:**

**PodporovanÃ© formÃ¡ty:**
- CSV (ÄÃ¡rka/stÅ™ednÃ­k)
- Excel (XLS, XLSX)
- vCard (VCF)
- JSON

**Dialog importu:**
1. VÃ½bÄ›r souboru
2. NÃ¡hled dat (prvnÃ­ch 10 Å™Ã¡dkÅ¯)
3. MapovÃ¡nÃ­ sloupcÅ¯:
   - JmÃ©no â†’ first_name
   - PÅ™Ã­jmenÃ­ â†’ last_name
   - Firma â†’ company
   - IÄŒO â†’ ico
   - Email â†’ email
   - Telefon â†’ phone
   - Ulice â†’ street
   - MÄ›sto â†’ city
   - PSÄŒ â†’ postal_code
4. NastavenÃ­:
   - VÃ½chozÃ­ skupina
   - DuplikÃ¡ty (pÅ™eskoÄit/aktualizovat)
5. Validace dat
6. Import s progress barem
7. Souhrn (importovÃ¡no/chyby/duplikÃ¡ty)

**Funkce:**
- `preview_file()` - nÃ¡hled dat
- `map_columns()` - mapovÃ¡nÃ­ sloupcÅ¯
- `validate_data()` - validace
- `check_duplicates()` - kontrola duplikÃ¡tÅ¯ (email, telefon, IÄŒO)
- `import_customers()` - samotnÃ½ import
- `create_report()` - report importu

**Detekce duplikÃ¡tÅ¯:**
- Podle emailu
- Podle telefonu
- Podle IÄŒO (firmy)
- Podle jmÃ©na + adresy

---

### **12. `customer_analytics.py`** ğŸ“Š

**ÃšÄel:** Statistiky a analÃ½zy zÃ¡kaznÃ­kÅ¯

**Obsahuje:**

**Filtry:**
- ObdobÃ­ (Tento rok, PoslednÃ­ 2 roky, VÅ¡e)
- Skupina (VÅ¡e, StandardnÃ­, VIP...)
- Typ (VÅ¡e, SoukromÃ¡ osoba, Firma)

**StatistickÃ© boxy:**
- ğŸ‘¥ Celkem zÃ¡kaznÃ­kÅ¯
- ğŸ†• NovÃ­ zÃ¡kaznÃ­ci (tento mÄ›sÃ­c/rok)
- ğŸ’° CelkovÃ½ obrat
- ğŸ“Š PrÅ¯mÄ›rnÃ¡ Ãºtrata/zÃ¡kaznÃ­k
- ğŸ† Top zÃ¡kaznÃ­k (podle Ãºtraty)
- ğŸ“‰ OdchÃ¡zejÃ­cÃ­ zÃ¡kaznÃ­ci

**Grafy a pÅ™ehledy:**

*Podle skupiny:*
- KolÃ¡ÄovÃ½ graf skupin
- Tabulka: Skupina, PoÄet, Obrat, PrÅ¯mÄ›r

*Podle typu:*
- SoukromÃ© osoby vs. Firmy
- PorovnÃ¡nÃ­ Ãºtrat

*GeografickÃ© rozloÅ¾enÃ­:*
- Podle mÄ›st
- Podle krajÅ¯
- Mapa (volitelnÄ›)

*RFM analÃ½za:*
- Recency (kdy naposledy)
- Frequency (jak Äasto)
- Monetary (kolik utratÃ­)
- Segmentace zÃ¡kaznÃ­kÅ¯

*Trendy:*
- NovÃ­ zÃ¡kaznÃ­ci v Äase
- Churn rate (odchod zÃ¡kaznÃ­kÅ¯)
- Customer lifetime value (CLV)

**Top 10 zÃ¡kaznÃ­kÅ¯:**
- Podle Ãºtraty
- Podle poÄtu zakÃ¡zek
- Podle poÄtu vozidel

**Export:**
- PDF report
- Excel s analÃ½zami

---

### **13. `customer_groups.py`** ğŸ·ï¸

**ÃšÄel:** SprÃ¡va zÃ¡kaznickÃ½ch skupin

**Obsahuje:**

**TÅ™Ã­da `CustomerGroupsDialog`:**

**Tabulka skupin:**
- NÃ¡zev skupiny
- KÃ³d (STD, VIP, FIRM...)
- Sleva na prÃ¡ci (%)
- Sleva na materiÃ¡l (%)
- Splatnost (dny)
- Kredit limit
- Barva (badge)
- PoÄet zÃ¡kaznÃ­kÅ¯
- AktivnÃ­

**Funkce:**
- `add_group()` - pÅ™idÃ¡nÃ­ skupiny
- `edit_group()` - Ãºprava skupiny
- `delete_group()` - smazÃ¡nÃ­ (pokud nemÃ¡ zÃ¡kaznÃ­ky)
- `set_default()` - nastavenÃ­ vÃ½chozÃ­ skupiny

**PÅ™ednastavenÃ© skupiny:**
- StandardnÃ­: 0% sleva, 14 dnÃ­ splatnost
- VIP: 10% sleva, 30 dnÃ­ splatnost
- FiremnÃ­: 15% sleva, 45 dnÃ­ splatnost
- PojiÅ¡Å¥ovna: speciÃ¡lnÃ­ ceny, 60 dnÃ­ splatnost

**AutomatickÃ© pÅ™iÅ™azenÃ­:**
- Pravidla pro povÃ½Å¡enÃ­ (Ãºtrata > X KÄ â†’ VIP)
- Pravidla pro degradaci (neaktivnÃ­ > 1 rok)

---

### **14. `customer_widgets.py`** ğŸ§©

**ÃšÄel:** PomocnÃ© dialogy a komponenty

**Obsahuje:**

**`CustomerDialog`:**
- JednoduchÃ½ dialog pro rychlou editaci
- PouÅ¾Ã­vanÃ½ z jinÃ½ch modulÅ¯
- ZÃ¡kladnÃ­ Ãºdaje + kontakt
- RychlÃ© uloÅ¾enÃ­

**`CustomerSearchDialog`:**
- VyhledÃ¡vÃ¡nÃ­ zÃ¡kaznÃ­ka
- FiltrovÃ¡nÃ­ podle jmÃ©na, telefonu, emailu, IÄŒO
- VÃ½bÄ›r ze seznamu
- NÃ¡hled zÃ¡kladnÃ­ch ÃºdajÅ¯
- TlaÄÃ­tko "+ NovÃ½ zÃ¡kaznÃ­k"

**`CustomerQuickAddDialog`:**
- RychlÃ© pÅ™idÃ¡nÃ­ zÃ¡kaznÃ­ka
- MinimÃ¡lnÃ­ Ãºdaje (jmÃ©no, pÅ™Ã­jmenÃ­, telefon, email)
- Pro inline vytvoÅ™enÃ­ z jinÃ½ch modulÅ¯

**`CustomerSelector`:**
- ComboBox s vyhledÃ¡vÃ¡nÃ­m
- Autocomplete podle jmÃ©na/firmy
- NÃ¡hled vybranÃ©ho zÃ¡kaznÃ­ka
- TlaÄÃ­tko pro vytvoÅ™enÃ­ novÃ©ho

**`CustomerCard`:**
- Karta zÃ¡kaznÃ­ka pro nÃ¡hledy
- JmÃ©no/firma
- KontaktnÃ­ Ãºdaje
- Skupina badge
- PoÄet vozidel
- PoslednÃ­ zakÃ¡zka

**`CustomerGroupSelector`:**
- ComboBox pro vÃ½bÄ›r skupiny
- BarevnÃ© oznaÄenÃ­
- Info o slevÃ¡ch

**`EmailComposerDialog`:**
- Dialog pro psanÃ­ emailu
- VÃ½bÄ›r Å¡ablony
- PÅ™Ã­jemce (pÅ™edvyplnÄ›no)
- PÅ™edmÄ›t
- TÄ›lo zprÃ¡vy (WYSIWYG editor)
- PÅ™Ã­lohy
- TlaÄÃ­tko Odeslat

**`SMSComposerDialog`:**
- Dialog pro SMS
- Telefon (pÅ™edvyplnÄ›no)
- ZprÃ¡va (max 160 znakÅ¯)
- PoÄÃ­tadlo znakÅ¯
- TlaÄÃ­tko Odeslat

**`AresLookupWidget`:**
- Widget pro vyhledÃ¡nÃ­ v ARES
- Input pro IÄŒO
- TlaÄÃ­tko "NaÄÃ­st z ARES"
- AutomatickÃ© vyplnÄ›nÃ­ ÃºdajÅ¯

---

## ğŸ¨ VIZUALIZACE STRUKTURY

```
ğŸ‘¥ MODUL ZÃKAZNÃCI
â”‚
â”œâ”€ ğŸ“‹ Seznam zÃ¡kaznÃ­kÅ¯ (module_customers)
â”‚  â”œâ”€ ğŸ” VyhledÃ¡vÃ¡nÃ­ a filtry
â”‚  â”œâ”€ ğŸ“Š Statistiky (celkem, VIP, dluÅ¾nÃ­ci)
â”‚  â”œâ”€ ğŸ“‘ Tabulka zÃ¡kaznÃ­kÅ¯
â”‚  â”œâ”€ â• NovÃ½ zÃ¡kaznÃ­k / Import / Export
â”‚  â””â”€ ğŸ–±ï¸ KontextovÃ© menu
â”‚
â”œâ”€ ğŸ“ FormulÃ¡Å™ zÃ¡kaznÃ­ka (customer_form)
â”‚  â”œâ”€ ğŸ‘¤ ZÃ¡kladnÃ­ Ãºdaje (osoba/firma)
â”‚  â”œâ”€ ğŸ“ KontaktnÃ­ Ãºdaje
â”‚  â”œâ”€ ğŸ  Adresa (hlavnÃ­/fakturaÄnÃ­)
â”‚  â”œâ”€ ğŸ’³ FakturaÄnÃ­ Ãºdaje
â”‚  â”œâ”€ ğŸ·ï¸ ZÃ¡kaznickÃ¡ skupina
â”‚  â””â”€ ğŸ“ PoznÃ¡mky a preference
â”‚
â”œâ”€ ğŸ“– Detail zÃ¡kaznÃ­ka (customer_detail)
â”‚  â”œâ”€ ğŸ‘¤ ZÃ¡kladnÃ­ informace
â”‚  â”‚  â”œâ”€ ğŸ“‹ OsobnÃ­/firemnÃ­ Ãºdaje
â”‚  â”‚  â”œâ”€ ğŸ“ Kontakty
â”‚  â”‚  â”œâ”€ ğŸ  Adresa
â”‚  â”‚  â””â”€ ğŸ’³ FakturaÄnÃ­ Ãºdaje
â”‚  â”‚
â”‚  â”œâ”€ ğŸï¸ Vozidla
â”‚  â”‚  â”œâ”€ ğŸ“‘ Seznam vozidel
â”‚  â”‚  â”œâ”€ â• PÅ™idat vozidlo
â”‚  â”‚  â””â”€ ğŸ”— Proklik na detail
â”‚  â”‚
â”‚  â”œâ”€ ğŸ“‹ ZakÃ¡zky
â”‚  â”‚  â”œâ”€ ğŸ“… Historie zakÃ¡zek
â”‚  â”‚  â”œâ”€ ğŸ” Filtry
â”‚  â”‚  â””â”€ â• NovÃ¡ zakÃ¡zka
â”‚  â”‚
â”‚  â”œâ”€ ğŸ’° Finance
â”‚  â”‚  â”œâ”€ ğŸ“Š PÅ™ehled Ãºtrat
â”‚  â”‚  â”œâ”€ ğŸ§¾ Seznam faktur
â”‚  â”‚  â”œâ”€ âš ï¸ PohledÃ¡vky
â”‚  â”‚  â””â”€ ğŸ“§ UpomÃ­nky
â”‚  â”‚
â”‚  â”œâ”€ ğŸ“§ Komunikace
â”‚  â”‚  â”œâ”€ ğŸ“¨ Historie emailÅ¯
â”‚  â”‚  â”œâ”€ ğŸ“± Historie SMS
â”‚  â”‚  â”œâ”€ ğŸ“ PoznÃ¡mky z hovorÅ¯
â”‚  â”‚  â””â”€ ğŸ“‹ Å ablony
â”‚  â”‚
â”‚  â”œâ”€ ğŸ“ Dokumenty
â”‚  â”‚  â”œâ”€ ğŸ“„ Smlouvy
â”‚  â”‚  â”œâ”€ ğŸ“‹ PlnÃ© moci
â”‚  â”‚  â””â”€ ğŸ“¤ Upload/Download
â”‚  â”‚
â”‚  â””â”€ ğŸ“ PoznÃ¡mky
â”‚     â””â”€ âœï¸ EditovatelnÃ© poznÃ¡mky
â”‚
â”œâ”€ ğŸ“¤ Export (customer_export)
â”‚  â”œâ”€ ğŸ“„ Karta zÃ¡kaznÃ­ka (PDF)
â”‚  â”œâ”€ ğŸ“‹ Seznam zÃ¡kaznÃ­kÅ¯ (Excel)
â”‚  â”œâ”€ ğŸ’° FinanÄnÃ­ vÃ½pis (PDF)
â”‚  â””â”€ ğŸ“ KompletnÃ­ export (ZIP)
â”‚
â”œâ”€ ğŸ“¥ Import (customer_import)
â”‚  â”œâ”€ ğŸ“„ CSV import
â”‚  â”œâ”€ ğŸ“Š Excel import
â”‚  â”œâ”€ ğŸ“‡ vCard import
â”‚  â”œâ”€ ğŸ”„ MapovÃ¡nÃ­ sloupcÅ¯
â”‚  â””â”€ âœ… Detekce duplikÃ¡tÅ¯
â”‚
â”œâ”€ ğŸ“Š Analytiky (customer_analytics)
â”‚  â”œâ”€ ğŸ“ˆ StatistickÃ© boxy
â”‚  â”œâ”€ ğŸ¥§ Grafy (skupiny, typy)
â”‚  â”œâ”€ ğŸ“ GeografickÃ© rozloÅ¾enÃ­
â”‚  â”œâ”€ ğŸ“Š RFM analÃ½za
â”‚  â””â”€ ğŸ“¤ Export reportÅ¯
â”‚
â”œâ”€ ğŸ·ï¸ ZÃ¡kaznickÃ© skupiny (customer_groups)
â”‚  â”œâ”€ ğŸ“‹ Seznam skupin
â”‚  â”œâ”€ â• PÅ™idat skupinu
â”‚  â”œâ”€ ğŸ’° Slevy a podmÃ­nky
â”‚  â””â”€ ğŸ”„ AutomatickÃ© pÅ™iÅ™azenÃ­
â”‚
â””â”€ ğŸ§© PomocnÃ© widgety (customer_widgets)
   â”œâ”€ ğŸ” VyhledÃ¡vacÃ­ dialog
   â”œâ”€ â• Quick add dialog
   â”œâ”€ ğŸ“‡ Customer selector
   â”œâ”€ ğŸ“§ Email composer
   â”œâ”€ ğŸ“± SMS composer
   â””â”€ ğŸ” ARES lookup
```

---

## ğŸ”— VAZBY NA OSTATNÃ MODULY

**ZÃ¡visÃ­ na:**
- `config` - barvy, CUSTOMER_GROUPS, PAYMENT_METHODS
- `database_manager` - pÅ™Ã­stup k databÃ¡zi (db)

**PouÅ¾Ã­vÃ¡ ho:**
- `module_vehicles` - vlastnÃ­k vozidla
- `module_orders` - zÃ¡kaznÃ­k zakÃ¡zky
- `module_administration` - fakturace

**DatabÃ¡zovÃ© tabulky:**
- `customers` - hlavnÃ­ tabulka zÃ¡kaznÃ­kÅ¯
- `vehicles` - vozidla zÃ¡kaznÃ­kÅ¯
- `orders` - zakÃ¡zky zÃ¡kaznÃ­kÅ¯
- `invoices` - faktury
- `customer_documents` - dokumenty
- `customer_communication` - komunikace
- `customer_groups` - skupiny

**SignÃ¡ly:**
- `customer_selected` - vÃ½bÄ›r zÃ¡kaznÃ­ka
- `customer_updated` - zmÄ›na zÃ¡kaznÃ­ka
- `customer_created` - novÃ½ zÃ¡kaznÃ­k
- `email_sent` - odeslÃ¡nÃ­ emailu
- `sms_sent` - odeslÃ¡nÃ­ SMS

---

## ğŸ’¾ DATABÃZOVÃ STRUKTURA

```sql
CREATE TABLE customers (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    customer_type TEXT DEFAULT 'person', -- person/company

    -- OsobnÃ­ Ãºdaje
    title TEXT, -- Pan, PanÃ­
    first_name TEXT,
    last_name TEXT,
    birth_date DATE,
    personal_id TEXT, -- rodnÃ© ÄÃ­slo (encrypted)

    -- FiremnÃ­ Ãºdaje
    company_name TEXT,
    ico TEXT,
    dic TEXT,
    contact_person TEXT,
    contact_position TEXT,

    -- KontaktnÃ­ Ãºdaje
    phone TEXT NOT NULL,
    phone2 TEXT,
    email TEXT,
    email2 TEXT,
    website TEXT,

    -- HlavnÃ­ adresa
    street TEXT,
    city TEXT,
    postal_code TEXT,
    region TEXT,
    country TEXT DEFAULT 'CZ',

    -- FakturaÄnÃ­ adresa
    billing_same_as_main BOOLEAN DEFAULT 1,
    billing_street TEXT,
    billing_city TEXT,
    billing_postal_code TEXT,
    billing_country TEXT,

    -- FakturaÄnÃ­ Ãºdaje
    bank_account TEXT,
    bank_name TEXT,
    payment_due_days INTEGER DEFAULT 14,
    payment_method TEXT DEFAULT 'transfer',
    credit_limit REAL DEFAULT 0,

    -- ZÃ¡kaznickÃ¡ skupina
    customer_group_id INTEGER,
    discount_labor REAL DEFAULT 0,
    discount_material REAL DEFAULT 0,
    priority INTEGER DEFAULT 3,
    is_vip BOOLEAN DEFAULT 0,

    -- Preference
    preferred_contact TEXT DEFAULT 'email',
    marketing_consent BOOLEAN DEFAULT 0,
    gdpr_consent BOOLEAN DEFAULT 0,
    gdpr_consent_date DATETIME,

    -- Metadata
    notes TEXT,
    special_requirements TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    created_by INTEGER,

    FOREIGN KEY (customer_group_id) REFERENCES customer_groups(id)
);

CREATE TABLE customer_groups (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    code TEXT UNIQUE NOT NULL,
    name TEXT NOT NULL,
    discount_labor REAL DEFAULT 0,
    discount_material REAL DEFAULT 0,
    payment_due_days INTEGER DEFAULT 14,
    credit_limit REAL DEFAULT 0,
    priority INTEGER DEFAULT 3,
    color TEXT DEFAULT '#95a5a6',
    description TEXT,
    is_default BOOLEAN DEFAULT 0,
    active BOOLEAN DEFAULT 1,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE customer_documents (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    customer_id INTEGER NOT NULL,
    document_type TEXT NOT NULL,
    file_name TEXT NOT NULL,
    file_path TEXT NOT NULL,
    file_size INTEGER,
    valid_until DATE,
    uploaded_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    uploaded_by INTEGER,
    notes TEXT,
    FOREIGN KEY (customer_id) REFERENCES customers(id)
);

CREATE TABLE customer_communication (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    customer_id INTEGER NOT NULL,
    communication_type TEXT NOT NULL, -- email/sms/phone/meeting
    direction TEXT NOT NULL, -- inbound/outbound
    subject TEXT,
    content TEXT,
    attachments TEXT, -- JSON array of file paths
    status TEXT DEFAULT 'sent', -- sent/delivered/read/failed
    sent_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    sent_by INTEGER,
    template_id INTEGER,
    related_order_id INTEGER,
    notes TEXT,
    FOREIGN KEY (customer_id) REFERENCES customers(id)
);

-- Indexy pro rychlÃ© vyhledÃ¡vÃ¡nÃ­
CREATE INDEX idx_customers_phone ON customers(phone);
CREATE INDEX idx_customers_email ON customers(email);
CREATE INDEX idx_customers_ico ON customers(ico);
CREATE INDEX idx_customers_name ON customers(first_name, last_name);
CREATE INDEX idx_customers_company ON customers(company_name);
CREATE INDEX idx_customers_group ON customers(customer_group_id);
```

---

## ğŸ’¡ KLÃÄŒOVÃ‰ FUNKCE

1. **Podpora osob i firem** - dynamickÃ© formulÃ¡Å™e podle typu
2. **Validace IÄŒO/DIÄŒ** - kontrola formÃ¡tu a integrity
3. **ARES integrace** - automatickÃ© naÄtenÃ­ ÃºdajÅ¯ firmy
4. **ZÃ¡kaznickÃ© skupiny** - slevy, splatnosti, priority
5. **KompletnÃ­ adresa** - hlavnÃ­ + fakturaÄnÃ­
6. **KomunikaÄnÃ­ centrum** - emaily, SMS, poznÃ¡mky
7. **FinanÄnÃ­ pÅ™ehled** - Ãºtraty, faktury, pohledÃ¡vky
8. **UpomÃ­nkovÃ½ systÃ©m** - automatickÃ© upomÃ­nky
9. **GDPR compliance** - souhlasy, anonymizace
10. **RFM analÃ½za** - segmentace zÃ¡kaznÃ­kÅ¯
11. **Import/Export** - CSV, Excel, vCard
12. **Å ablony komunikace** - pÅ™edpÅ™ipravenÃ© texty
13. **VyhledÃ¡vÃ¡nÃ­ v ARES** - IÄŒO lookup
14. **Kredit limity** - kontrola pÅ™i zakÃ¡zce
15. **GeografickÃ© analÃ½zy** - rozloÅ¾enÃ­ zÃ¡kaznÃ­kÅ¯

---

## ğŸ¯ PRODUKÄŒNÃ POÅ½ADAVKY

1. **VÃ½kon:**
   - Lazy loading pro velkÃ© seznamy
   - FulltextovÃ© vyhledÃ¡vÃ¡nÃ­ (SQLite FTS5)
   - IndexovÃ¡nÃ­ klÃ­ÄovÃ½ch polÃ­
   - Caching ARES dotazÅ¯

2. **BezpeÄnost:**
   - Å ifrovÃ¡nÃ­ citlivÃ½ch ÃºdajÅ¯ (rodnÃ© ÄÃ­slo)
   - GDPR compliance
   - Audit log zmÄ›n
   - SQL injection ochrana
   - Validace vÅ¡ech vstupÅ¯

3. **GDPR:**
   - Evidence souhlasÅ¯
   - PrÃ¡vo na vÃ½maz (anonymizace)
   - Export osobnÃ­ch ÃºdajÅ¯
   - LogovÃ¡nÃ­ pÅ™Ã­stupÅ¯

4. **UX:**
   - Autocomplete vyhledÃ¡vÃ¡nÃ­
   - KlÃ¡vesovÃ© zkratky
   - Drag & drop pro dokumenty
   - ResponzivnÃ­ design
   - Validace v reÃ¡lnÃ©m Äase

5. **Integrace:**
   - ARES API
   - SMTP pro emaily
   - SMS brÃ¡na
   - Export do ÃºÄetnÃ­ch systÃ©mÅ¯
   - KalendÃ¡Å™ (pÅ™ipomÃ­nky)

6. **ZÃ¡lohovÃ¡nÃ­:**
   - AutomatickÃ© zÃ¡lohovÃ¡nÃ­ dat
   - Export kompletnÃ­ch ÃºdajÅ¯
   - VerzovÃ¡nÃ­ dokumentÅ¯
   - Obnova ze zÃ¡lohy
